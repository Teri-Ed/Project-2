<!DOCTYPE html>
<html>
    <head lang="en-US">
        <meta charset="UTF-8">
        <title>Project-2 Homepage</title>
        <link rel="stylesheet" href="css/style.css"/>
    </head>
    <body>
      <!--This is the start of my Navigation Bar.  I am looking for a bar that will link to all the applicable pages, as well as, offer search capability.-->
      <div class="header">
        <header>
          <nav>
            <a href="#">Giphy Search API</a>
            <div>
              <ul>
                <li>
                  <a href="#">Home <span>(current)</span></a>
                </li>
                <li>
                  <a href="#">Version 2</a>
                </li>
                <li >
                  <a href="#">Version 3</a>
                </li>
              </ul>
              <!-- This is my search button -->
              <form>
                <input id="search" type="search" placeholder="Search">
                <button id="submit" type="button">Search</button>
              </form>
            </div>
          </nav>
        </header>
      </div>
      <div id="giphyImages" ></div>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script>
        $(document).ready(function() {
          $("#submit").click(function() {
              $("#giphyImages").empty();
              var userInput = $("#search").val();
              var url = `http://api.giphy.com/v1/gifs/search?q=${userInput}&api_key=GQM8Th8FqZBposgacK9kDCZGcEZVITbZ`
              //alert(url)
                $.ajax( {
                    type: "GET",
                    url: url,
                })
                .done(function(res) {
                  var searchOutput = res.data
                  $.each(searchOutput, function(i, e) {
                    //console.log("index", i, "element", e.images.preview_webp.url)
                    var giphy = e.images.looping.mp4
                    console.log("giphy", giphy)
                    $("#giphyImages").append(`<video width="320" height="240" controls> <source src="${giphy}" alt="Giphy"> </video>`)
                    //$("#giphyImages")[0].autoplay = true;
                  })
                })
          })
        });
      </script>
    </body>
</html>  