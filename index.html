<!DOCTYPE html>
<html>
    <head lang="en-US">
        <meta charset="UTF-8">
        <title>Project-2 Homepage</title>
        <link rel="stylesheet" href="css/bootstrap.min.css"/>
        <link rel="stylesheet" href="css/style.css"/>
        <!--<script type="text/javascript" src="main.js"></script>-->
    </head>
    <body>
      <!--This is the start of my Navigation Bar.  I am looking for a bar that will link to all the applicable pages, as well as, offer search capability.-->
      <div class="header">
        <header>
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand" href="#">Giphy Search API</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
              </ul>
              <!-- This is my search button -->
              <form class="form-inline my-2 my-lg-0">
                <input id="search" class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button id="submit" class="btn btn-outline-success my-2 my-sm-0" type="button">Search</button>
              </form>
            </div>
          </nav>
        </header>
      </div>
      <div id="giphyImages" ></div>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script>
        $(document).ready(function() {
          $("#submit").click(function() {
              $("#giphyImages").empty();
              var userInput = $("#search").val();
              var url = "http://api.giphy.com/v1/gifs/search?q="+userInput+"&api_key=GQM8Th8FqZBposgacK9kDCZGcEZVITbZ"
              //alert(url)
                $.ajax( {
                    type: "GET",
                    url: url,
                    //success: function(data) {
                    //  console.log("success " + data)
                    //}
                }).
                done(function(res) {
                  var searchOutput = res.data
                  $.each(searchOutput, function(i, e) {
                    //console.log("index", i, "element", e.images.preview_webp.url)
                    var giphy = e.images.preview_webp.url
                    console.log("giphy", giphy)
                    $("#giphyImages").append(`<img src="${giphy}" alt="Giphy"/>`)
                  })
              })

              })
          });
          //$.ajax({
          //    url:"http://api.giphy.com/v1/gifs/search?q=&api_key=GQM8Th8FqZBposgacK9kDCZGcEZVITbZ",
          //    context:document.body
          //}).done(function (){
          //    $(this).addClass("done");
          //});

        //})
      </script>
    </body>
    </html>