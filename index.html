<!DOCTYPE html>
<html>
    <head lang="en-US">
        <meta charset="UTF-8">
        <title>Project-2 Homepage</title>
        <link rel="stylesheet" href="css/style.css"/>
    </head>
    <body>
      <!-- This is my header and nav bar -->
      <header class="mainHeader">
        <div class="container">
          <h1 class="header"><a href="index.html" alt="Homepage">Giphy Favorites</a></h1>
          <nav>
            <ul class="navigation">
                <li class="navlist"><a class="navink" href="work.html" alt="Work Experience">Version 1</a></li>
                <li class="navlist"><a class="navink" href="web.html" alt="Web Design Portfolio">Version 2</a></li>
                <li class="navlist"><a class="navink" href="contact.html" alt="Contact">Version 3</a></li>
                <!-- This is my search button -->             
                <li class="navlist">
                  <form>
                    <input id="search" type="search" placeholder="Search">
                    <button id="submit" type="button">Search</button>
                  </form>
                </li>
              </ul>
          </nav>
        </div>
      </header>
      </div>
      <!-- This is the body section that holds the appended gifs -->
      <div id="giphyImages" ></div>
      <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <!-- This is the jQuery that accesses and produces the gif images -->
      <script>
        $(document).ready(function() {
          $("#submit").click(function() {
              $("#giphyImages").empty();
              var userInput = $("#search").val();
              var url = `http://api.giphy.com/v1/gifs/search?q=${userInput}&api_key=GQM8Th8FqZBposgacK9kDCZGcEZVITbZ`
              //alert(url)
                $.ajax( {
                    type: "GET",
                    url: url,
                })
                .done(function(res) {
                  var searchOutput = res.data
                  $.each(searchOutput, function(i, e) {
                    //console.log("index", i, "element", e.images.preview_webp.url)
                    var giphy = e.images.looping.mp4
                    console.log("giphy", giphy)
                    $("#giphyImages").append(`<video width="320" height="240" controls> <source src="${giphy}" alt="Giphy"> </video>`)
                    //$("#giphyImages")[0].autoplay = true;
                  })
                })
          })
        });
      </script>
    </body>
</html>  